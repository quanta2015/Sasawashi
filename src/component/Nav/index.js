import React,{useState,useEffect} from 'react';import { inject,observer,MobXProviderContext } from 'mobx-react'import classnames from 'classnames';import {API_SERVER} from '@/constant/apis'import {MENU_LIST} from '@/constant/data'import s from './index.module.less';import { useNavigate } from 'react-router-dom'import arrow from '@/img/arrow.svg'import right from '@/img/right.svg'import logo from '@/img/logo.svg'import login from '@/img/login.svg'import cart from '@/img/cart.svg'import search from '@/img/search.svg'const Nav = ({}) => {  const { store } = React.useContext(MobXProviderContext)  const navigate = useNavigate();  const [open,setOpen] = useState(0)  const [show, setShow] = useState(false)  const mobile = document.querySelector('html').clientWidth<768  console.log(mobile)  useEffect(()=>{      },[])  const doOpen =()=>{    let bodyCls = document.querySelector('body').classList    store.open?bodyCls.remove('fixed'):bodyCls.add('fixed')    store.open = !store.open  }  const RenderMenuTitle =(item,dir)=>(    <div className={classnames(s.menutitle,{'col':dir==='col'})}>      <span>{item.en}</span>      <span>{item.jp}<img src={right} /></span>    </div>  )  const doSelMenu=(path)=>{    if (path ==='/product') {      setShow(!show)      return    }    doOpen()    navigate(path)  }  const doSelSubMenu=(e,i,j)=>{    e.stopPropagation()    setShow(false)    doOpen()  }    return (    <nav>      <div className={classnames(s.btn,{'open':store.open})} onClick={doOpen}>        <span></span><span></span>      </div>      <div className={s.logo}>        <img src={logo} alt=""/>        <span>ONLINE SHOP</span>      </div>      <div className={s.sp}></div>      <div className={store.open?"g-menu open":"g-menu"}>        {MENU_LIST.map((item,i)=>          <li key={i} onClick={()=>doSelMenu(item.path)}>            <a className="nav-link" href="#" >{item.key}</a>            {item.submenu && <img src={arrow} />}            {item.submenu &&               <div className={show?"submenu show":"submenu"}>                <div className={s.wrap}>                  {RenderMenuTitle(item.submenu[0],'row')}                  <div className={s.menulist}>                    {item.submenu.slice(1).map((o,j)=>                      <div key={j} className={s.col}>                        {RenderMenuTitle(o,'col')}                        <div className={s.colwrap}>                        {o.list.map((t,k)=>                           <i key={k} onClick={(e)=>doSelSubMenu(e,i,j)}>{t.en}</i>                         )}                        </div>                      </div>                    )}                  </div>                </div>              </div>            }          </li>        )}      </div>      <div className={s.navicon}>        <img src={login} />        <img src={cart} />        <img src={search} />      </div>    </nav>  )}export default inject('store')(observer(Nav))